[phases.setup]
nixPkgs = ["nodejs-22_x", "npm"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["npx prisma generate", "npm run build"]

# Note: Prisma migrations should run during deployment, not build
# Railway will handle migrations via railway.toml deploy hooks if configured

[start]
cmd = "npm start"
